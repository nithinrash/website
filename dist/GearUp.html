<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1565C0">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öôÔ∏è</text></svg>">
    <title>Quiz Wheel Gear Game</title>
  <script type="module" crossorigin src="/dist/assets/index-C8trA8UR.js"></script>
  <link rel="stylesheet" crossorigin href="/dist/assets/index-BaGmLK5p.css">
</head>

<body class="bg-gray-100 overflow-hidden select-none m-0 p-0 font-['Inter']">

    <!-- Auth / Login Button (Top Right Profile only - Login moved to Home) -->
    <div id="auth-container" class="absolute top-4 right-4 z-50 pointer-events-auto">
        <div id="user-profile"
            class="hidden flex items-center gap-2 bg-white/90 backdrop-blur px-3 py-1 rounded-full shadow-lg border border-blue-100 animate-fade-in-up">
            <img id="user-avatar" src="" alt="User" class="w-8 h-8 rounded-full border border-gray-200">
            <div class="text-xs text-left">
                <div id="user-name" class="font-bold text-gray-800 truncate max-w-[100px]"></div>
                <button id="logout-btn" class="text-red-500 hover:underline">Sign out</button>
            </div>
        </div>
    </div>

    <!-- HOME SCREEN OVERLAY -->
    <div id="home-screen" class="fixed inset-0 z-40 flex flex-col items-center justify-center text-center p-6">
        <!-- Logo / Title -->
        <div class="mb-8 animate-fade-in-up">
            <div class="text-6xl mb-2 animate-float">üé°</div>
            <h1 class="text-5xl font-black text-white drop-shadow-lg tracking-tight">GearUP</h1>
            <p class="text-blue-100 text-lg font-medium mt-2 tracking-wide">Spin. Solve. Learn.</p>
        </div>

        <!-- Login Section -->
        <div class="space-y-4 animate-fade-in-up delay-200">
            <button id="login-btn"
                class="group relative bg-white text-blue-900 font-bold py-4 px-8 rounded-2xl shadow-2xl hover:shadow-xl hover:scale-105 transition-all duration-300 border-b-4 border-blue-200 active:border-b-0 active:translate-y-1">
                <div class="flex items-center gap-3">
                    <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-6 h-6" alt="G">
                    <span class="text-lg">Sign in with Google</span>
                </div>
                <div
                    class="absolute inset-0 rounded-2xl bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity">
                </div>
            </button>

            <!-- Guest Login (touch-action:manipulation fixes Safari iOS tap issues) -->
            <button id="guest-btn"
                class="w-full bg-white/10 hover:bg-white/20 text-blue-100 font-bold py-3 rounded-2xl transition-all border border-white/30 hover:border-white/50"
                style="touch-action: manipulation; -webkit-tap-highlight-color: transparent; cursor: pointer;">
                Play as Guest (No Leaderboard)
            </button>
        </div>



        <!-- Mode Selection Section (Hidden by default) -->
        <div id="mode-selection" class="hidden space-y-4 animate-fade-in-up delay-200">
            <h2 class="text-white text-xl font-bold mb-6 opacity-90">Select Game</h2>

            <div class="flex flex-col gap-4 w-64">
                <button id="quick-play-btn"
                    class="bg-gradient-to-r from-green-400 to-green-600 text-white font-black py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all border-b-4 border-green-700 active:border-b-0 active:translate-y-1"
                    style="touch-action: manipulation; -webkit-tap-highlight-color: transparent;">
                    QUICK PLAY üü¢
                </button>

                <button id="quick-fire-btn"
                    class="bg-gradient-to-r from-orange-400 to-red-600 text-white font-black py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all border-b-4 border-red-700 active:border-b-0 active:translate-y-1"
                    style="touch-action: manipulation; -webkit-tap-highlight-color: transparent;">
                    QUICK FIRE üî•
                </button>
            </div>

            <!-- Leaderboard Podium -->
            <div id="leaderboard-section"
                class="mt-8 w-full flex flex-col items-center animate-fade-in-up delay-300 hidden">
                <div id="leaderboard-podium" class="flex items-end gap-2 md:gap-4 pb-2">
                    <!-- 2nd Place (Silver) -->
                    <!-- 1st Place (Gold) -->
                    <!-- 3rd Place (Bronze) -->
                    <div class="text-white/50 text-xs italic">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Fire Selection Hint -->
    <div id="selection-hint"
        class="fixed top-24 left-1/2 -translate-x-1/2 z-40 bg-black/60 text-white px-6 py-3 rounded-full backdrop-blur-md border border-white/20 shadow-xl hidden animate-pulse">
        <p class="font-bold text-lg">Select 3 Questions via Gear ‚öôÔ∏è</p>
        <p class="text-xs text-center opacity-80">Use Arrows to Rotate, Enter to Pick</p>
    </div>

    <!-- Main Game Container -->
    <div id="game-container" class="relative w-full h-full bg-gradient-to-b from-[#1E88E5] to-[#1565C0]">

        <div id="stopwatch"
            class="fixed bottom-16 left-1/2 -translate-x-1/2 z-30 font-mono text-white text-3xl font-black drop-shadow-md hidden md:hidden">
            00:00.0
        </div>

        <div id="background-decor" class="absolute inset-0 z-0 pointer-events-none overflow-hidden">
        </div>

        <canvas id="gameCanvas" class="absolute inset-0 z-10"></canvas>

        <div id="ui-layer" class="absolute inset-0 z-20 pointer-events-none">
            <div id="flags-container" class="absolute inset-0 w-full h-full transition-opacity duration-500"
                style="opacity: 0;">
            </div>

            <div id="selection-box" class="absolute z-50"></div>

            <div id="hint-box" class="absolute top-20 left-1/2 -translate-x-1/2 pointer-events-none"></div>
        </div>

        <div id="overlay-container" class="fixed inset-0 z-50 bg-[#1565C0]/90 flex items-center justify-center">
            <div class="text-center transform -translate-y-12">
                <div id="overlay-emoji" class="text-9xl mb-4">üëè</div>
                <div id="overlay-msg" class="text-6xl font-black text-white tracking-widest mb-8">CORRECT</div>

                <div id="overlay-details"
                    class="bg-gradient-to-b from-white/95 to-[#E3F2FD]/90 border-4 border-white/75 rounded-3xl p-6 shadow-2xl max-w-2xl mx-auto text-left hidden">
                    <div class="mb-4">
                        <div class="text-[#0D47A1] text-sm font-bold uppercase">Question</div>
                        <div id="overlay-q" class="text-[#072B4F] text-xl font-semibold mt-1"></div>
                    </div>
                    <div>
                        <div class="text-[#1B5E20] text-sm font-bold uppercase">Answer</div>
                        <div id="overlay-a" class="text-[#2E7D32] text-2xl font-black mt-1"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="absolute top-[20px] left-4 md:left-1/2 md:-translate-x-1/2 p-4 rounded-2xl shadow-lg question-panel pointer-events-none transition-opacity duration-500 flex flex-col items-start md:items-center justify-center text-left md:text-center z-30"
        id="q-panel">
        <div id="q-text" class="text-[#072B4F] text-lg font-semibold leading-tight">Rotate wheel...</div>
        <div id="a-text" class="text-[#0D47A1] text-2xl font-bold mt-2 hidden"></div>
    </div>

    <div id="score-panel" class="absolute top-16 right-6 hidden pointer-events-none flex flex-col gap-2 items-end">
        <!-- Normal Mode: Correct / Wrong Counters -->
        <div id="cw-counters" class="flex gap-2 hidden">
            <div
                class="bg-gradient-to-r from-green-500 to-green-600 border-0 md:border-2 border-green-800 rounded-xl shadow-lg px-4 py-2 text-center min-w-[80px]">
                <div class="text-green-100 text-[10px] font-black tracking-widest uppercase">Correct</div>
                <div id="correct-count" class="text-white text-2xl font-black">0</div>
            </div>
            <div
                class="bg-gradient-to-r from-red-500 to-red-600 border-0 md:border-2 border-red-800 rounded-xl shadow-lg px-4 py-2 text-center min-w-[80px]">
                <div class="text-red-100 text-[10px] font-black tracking-widest uppercase">Wrong</div>
                <div id="wrong-count" class="text-white text-2xl font-black">0</div>
            </div>
        </div>

        <!-- Quick Fire Mode: Score / Total -->
        <div id="qf-score"
            class="hidden bg-gradient-to-r from-[#FF6B6B] to-[#FF5252] border-4 border-[#8B0000] rounded-2xl shadow-xl px-6 py-3 text-center">
            <div class="text-[#FFF59D] text-xs font-black tracking-widest uppercase">Score</div>
            <div id="score-display" class="text-white text-3xl font-black">0/0</div>
        </div>

        <!-- History List (Normal Mode) -->
        <div id="history-list" class="mt-4 hidden md:flex flex-col gap-2 items-end w-full">
            <!-- Items injected via JS -->
        </div>
    </div>

    <div id="mobile-history-grid"
        class="fixed bottom-4 left-0 right-0 z-20 px-4 grid gap-1 justify-center pointer-events-none transition-all duration-300 md:hidden">
        <!-- JS injects pills here -->
    </div>

    <!-- MAIN SCRIPT -->

</body>

</html>
